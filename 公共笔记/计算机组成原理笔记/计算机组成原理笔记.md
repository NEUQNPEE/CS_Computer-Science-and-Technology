# 计算机组成原理笔记

## 1. 计算机系统概述

……这章有重点吗？

大概就这一张图罢

![Alt text](计组第一章习题-1.png)
![Alt text](计组第一章习题-1答案.png)
## 2. 数据的表示和运算

**……我超这章重点可太多了，建议考研书全背**

## 3. 存储系统

……总感觉玩两天装机模拟器，这章啥都会了

### 3.1 储存器概述

TODO……真的有东西要写吗？

注意：
Cache主存系统的效率 e = 访问Cache的时间 / 平均访存时间

### 3.2 主储存器

主储存器使用DRAM实现，Cache使用SRAM实现。DRAM价格低速度慢。

#### 3.2.1 SRAM和DRAM芯片

SRAM使用双稳态触发器实现，可实现非破坏性读出。SRAM的存取速度快，但集成度低，功耗较大，价格昂贵，一般用于高速缓冲存储器。

DRAM使用电容实现，需要定时刷新，存取速度慢，但集成度高，功耗小，价格低廉，一般用于主存储器。

DRAM电容上的电荷一般只能维持1～2ms，因此即使电源不断电，信息也会自动消失。为此，每隔一定时间必须刷新，通常取2ms，称为刷新周期。常用的刷新方式有3种：

1. 集中刷新：指在一个刷新周期内，利用一段固定的时间，依次对存储器的所有行进行逐一再生，在此期间停止对存储器的读写操作，称为“死时间”，又称访存“死区”。优点是读写操作时不受刷新工作的影响；缺点是在集中刷新期间（死区）不能访问存储器。
2. 分散刷新：把对每行的刷新分散到各个工作周期中。这样，一个存储器的系统工作周期分为两部分：前半部分用于正常读、写或保持；后半部分用于刷新。这种刷新方式增加了系统的存取周期，如存储芯片的存取周期为0.5μs，则系统的存取周期为1us。优点是没有死区；缺点是加长了系统的存取周期，降低了整机的速度。
3. 异步刷新：异步刷新是前两种方法的结合，它既可缩短“死时间”，又能充分利用最大刷新间隔为2ms的特点。具体做法是将刷新周期除以行数，得到两次刷新操作之间的时间间隔t，利用逻辑电路每隔时间t产生一次刷新请求。这样可以避免使CPU连续等待过长的时间，而且减少了刷新次数，从根本上提高了整机的工作效率。

#### 3.2.2 只读存储器

ROM结构简单，具有非易失性，根据制造工艺的不同，可分为：

1. MROM：掩模式ROM，制造芯片时直接将内容写入。
2. PROM：一次可编程ROM
3. EPROM：可擦除可编程ROM。编程次数有限，写入时间长
4. Flash：在EPROM与$E^2PROM$基础上发展来闪存，一般做U盘之类的移动设备
5. SSD：固态硬盘，由控制单元和存储单元（Flash）组成。

#### 3.2.3 主储存器的组成

注意：

一般来讲，主储存器芯片的引脚数 = 地址引脚数 + 数据引脚数 + 片选线（一般为1） + 读写控制线（一般为2）

如果使用地址引脚复用技术，片选线1根换成行通选和列通选2根，地址引脚数减半。

#### 3.2.4 多模块储存器

注意：

低位交叉编址：设模块字长等于数据总线宽度，模块存取一个字的存取周期为T，总线传送周期为r，为实现流水线方式存取，存储器交叉模块数应大于等于

$$m = \frac{T}{r}$$

式中，m 称为交叉存取度。每经过 r 时间延迟后启动下一个模块，交叉存储器要求其模块数必须
大于等于 m，以保证启动某模块后经过$m \times r$的时间后再次启动该模块时，其上次的存取操作已经完成（即流水线不间断）。这样，连续存取m个字所需的时间为

$$t=T+(m-1)r$$

****

**放几个例题**

![Alt text](计组第三章习题-1、2.png)

24.  选D。注意只要相邻4个的模块有重复就**有可能**冲突，不要认为就是8005、8006、8007、8008|8001、8002、8003、8004这样读，也有可能是8006、8007、8008、8001|8002、8003、8004、8000这样读。
25.  选C。由主存地址 803 001AH 可知最后两位为 10，即2号芯片。第一次读取 只能读出2、3号芯片的前2B，第二次读出0-4号芯片的中间4B，第三次读出0、1号芯片的后2B。共读三次。


****
## 6. 总线

按学校进度这个先讲……但没啥内容啊